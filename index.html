<!DOCTYPE html>
<html>
<meta charset=utf-8>
<title></title>

<style>
  html {
    font-family: helvetica;
    font-size: 18px;
    padding: 20px;
    background: #fff;
  }
  body {
    background: #f6f6f6;
    padding: 20px;
    border: 1px solid #ccc;
  }
  button {
    font-size: .9em;
    padding: 10px 20px;
    background: #ccc;
    border: 1px solid #999;
    font-weight: bold;
    margin-right: 20px;
  }
</style>

<template id=origin>
  <h1>Importer un smartphone</h1>
  <p>
    Vous achetez un smartphone sur internet. Est-ce que le vendeur expedie
    depuis l'Union Européenne ?
  </p>

  <button data-href=duty-free>Oui</button>
  <button data-href=duty-20>Non</button>
  <button data-href=duty-unknown>Je ne sais pas</button>
</template>

<template id=duty-free data-last>
  <h1>0% de TVA</h1>
  <p>
    Un smartphone expédié depuis l'Union Européenne a déjà payé la TVA et
    n'est pas assujetti aux frais de Douane.
  </p>
</template>

<template id=duty-20 data-last>
  <h1>20% de TVA</h1>
  <p>
    Un smartphone expédié depuis un pays non ressortissant de l'Union
      Européenne est soumis à la TVA française de 20%.
  </p>
</template>

<template id=duty-unknown data-last>
  <h1>0% ou 20% de TVA</h1>
  <p>
    Un smartphone expédié depuis un pays non ressortissant de l'Union
      Européenne est soumis à la TVA française de 20%.<br>
    Un smartphone qui provient de l'<abbr title="Union Européenne">UE</abbr>
    n'est pas soumis à la TVA française.
  </p>
</template>

<template id=end>
  <h1>Fin de la simulation</h1>
  <p>
    Merci de votre retour.
  </p>
  <p>
    <button data-href=origin>Recommencer</button>
  </p>
</template>

<section id=container></section>

<template id=satisfaction>
  <p>J'ai la réponse à ma question</p>
  <button data-href=end>Oui</button>
  <button data-href=end>Non</button>
</template>

<script>
  var container = document.querySelector('#container')
  var satisfaction = document.querySelector('#satisfaction')

  function showPage(page) {
    var source = document.querySelector('#' + page)
    container.innerHTML = source.innerHTML
    var withSatisfaction = source.hasAttribute('data-last')
    if (withSatisfaction) {
      container.innerHTML += document.querySelector('#satisfaction').innerHTML
    }
    initListerners(container)
  }

  function initListerners(element) {
    [].forEach.call(element.querySelectorAll('button[data-href]'), function(button) {
      button.addEventListener('click', function(event) {
        showPage(button.getAttribute('data-href'))
      })
    })
  }

  showPage('origin', false)
</script>
</html>
